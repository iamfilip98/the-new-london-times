<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Button Style Debug</title>
    <link rel="stylesheet" href="css/main.css">
    <style>
        body {
            margin: 20px;
            font-family: Arial, sans-serif;
        }
        .debug-container {
            margin: 20px 0;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 8px;
        }
        .button-row {
            display: flex;
            gap: 10px;
            margin: 10px 0;
            align-items: baseline;
        }
        .debug-info {
            margin: 10px 0;
            font-size: 12px;
            color: #666;
            font-family: monospace;
        }
        .highlight-borders {
            outline: 2px solid red !important;
        }
    </style>
</head>
<body>
    <h1>Button Height Debug Tool</h1>

    <div class="debug-container">
        <h3>Desktop Single Row Test</h3>
        <div class="number-input number-input-desktop">
            <button class="number-btn" data-number="5">5</button>
            <button class="undo-btn" id="undoBtn1" title="Undo last move">
                <i class="fas fa-undo-alt"></i>
                <span>Undo</span>
            </button>
        </div>
        <div class="debug-info" id="desktopInfo"></div>
    </div>

    <div class="debug-container">
        <h3>Mobile Two Row Test</h3>
        <div class="number-input">
            <div class="number-row-2">
                <button class="number-btn" data-number="9">9</button>
                <button class="undo-btn" id="undoBtn2" title="Undo last move">
                    <i class="fas fa-undo-alt"></i>
                    <span>Undo</span>
                </button>
            </div>
        </div>
        <div class="debug-info" id="mobileInfo"></div>
    </div>

    <button onclick="analyzeButtons()" style="padding: 10px 20px; margin: 20px 0;">Analyze Button Differences</button>
    <button onclick="highlightBorders()" style="padding: 10px 20px; margin: 20px 0;">Highlight Borders</button>

    <script>
        function analyzeButtons() {
            const numberBtns = document.querySelectorAll('.number-btn');
            const undoBtns = document.querySelectorAll('.undo-btn');

            console.log('=== DETAILED BUTTON ANALYSIS ===');

            numberBtns.forEach((btn, i) => {
                const styles = window.getComputedStyle(btn);
                const rect = btn.getBoundingClientRect();

                console.log(`\nNUMBER BUTTON ${i + 1}:`);
                console.log('Computed Height:', styles.height);
                console.log('Computed Min-Height:', styles.minHeight);
                console.log('Computed Padding:', styles.padding);
                console.log('Computed Border:', styles.border);
                console.log('Computed Box-Sizing:', styles.boxSizing);
                console.log('Computed Line-Height:', styles.lineHeight);
                console.log('Computed Font-Size:', styles.fontSize);
                console.log('Computed Display:', styles.display);
                console.log('Computed Align-Items:', styles.alignItems);
                console.log('Rendered Height:', rect.height + 'px');
                console.log('Rendered Width:', rect.width + 'px');

                // Calculate content height
                const paddingTop = parseFloat(styles.paddingTop);
                const paddingBottom = parseFloat(styles.paddingBottom);
                const borderTop = parseFloat(styles.borderTopWidth);
                const borderBottom = parseFloat(styles.borderBottomWidth);
                const contentHeight = rect.height - paddingTop - paddingBottom - borderTop - borderBottom;
                console.log('Content Height:', contentHeight + 'px');
            });

            undoBtns.forEach((btn, i) => {
                const styles = window.getComputedStyle(btn);
                const rect = btn.getBoundingClientRect();

                console.log(`\nUNDO BUTTON ${i + 1}:`);
                console.log('Computed Height:', styles.height);
                console.log('Computed Min-Height:', styles.minHeight);
                console.log('Computed Padding:', styles.padding);
                console.log('Computed Border:', styles.border);
                console.log('Computed Box-Sizing:', styles.boxSizing);
                console.log('Computed Line-Height:', styles.lineHeight);
                console.log('Computed Font-Size:', styles.fontSize);
                console.log('Computed Display:', styles.display);
                console.log('Computed Align-Items:', styles.alignItems);
                console.log('Rendered Height:', rect.height + 'px');
                console.log('Rendered Width:', rect.width + 'px');

                // Calculate content height
                const paddingTop = parseFloat(styles.paddingTop);
                const paddingBottom = parseFloat(styles.paddingBottom);
                const borderTop = parseFloat(styles.borderTopWidth);
                const borderBottom = parseFloat(styles.borderBottomWidth);
                const contentHeight = rect.height - paddingTop - paddingBottom - borderTop - borderBottom;
                console.log('Content Height:', contentHeight + 'px');
            });

            // Compare heights
            if (numberBtns.length > 0 && undoBtns.length > 0) {
                const numRect = numberBtns[0].getBoundingClientRect();
                const undoRect = undoBtns[0].getBoundingClientRect();
                const heightDiff = Math.abs(numRect.height - undoRect.height);

                console.log('\n=== HEIGHT COMPARISON ===');
                console.log('Number button height:', numRect.height + 'px');
                console.log('Undo button height:', undoRect.height + 'px');
                console.log('Height difference:', heightDiff + 'px');

                if (heightDiff > 0.1) {
                    console.log('⚠️ HEIGHT MISMATCH DETECTED!');
                } else {
                    console.log('✅ Heights match!');
                }

                // Update debug info on page
                document.getElementById('desktopInfo').innerHTML = `
                    Number btn: ${numRect.height}px height<br>
                    Undo btn: ${undoRect.height}px height<br>
                    Difference: ${heightDiff.toFixed(1)}px
                `;
            }
        }

        function highlightBorders() {
            document.querySelectorAll('.number-btn, .undo-btn').forEach(btn => {
                btn.classList.toggle('highlight-borders');
            });
        }

        // Auto-analyze on load
        window.addEventListener('load', function() {
            setTimeout(analyzeButtons, 100);
        });
    </script>
</body>
</html>